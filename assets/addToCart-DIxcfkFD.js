import{g as i,a as C,s as q,b as P}from"./footer-BqyHY6WK.js";import{r as p,s as S,a as f,p as T,g}from"./showToast-CcGqrtrx.js";const y=()=>{const r=document.querySelector(".productOrderTotal"),e=r.querySelector(".productSubTotal"),c=r.querySelector(".productTax"),u=r.querySelector(".productFinalTotal"),n=i().reduce((t,a)=>t+a.price,0),d=Number(c.textContent.slice(1));e.textContent=`৳${p(n,2)}`,u.textContent=`৳${p(n+d,2)}`},x=(r,e)=>{const c=document.querySelector("#productCartContainer"),u=c.querySelector(`#card${e}`);if(u){let o=i();if(o)return o=o.filter(n=>n.id!==e),S(o),c.removeChild(u),C(),y(),f("delete",e),!0}return!1},L=(r,e,c,u)=>{const o=document.querySelector(`#card${e}`),n=o.querySelector(".productPrice"),d=o.querySelector(".productQuantity"),t=i(),a=t.find(l=>l.id===e);if(a){const l=u;let s=parseInt(d.getAttribute("data-quantity"));r.target.className==="cartIncrement"?s<c&&s++:r.target.className==="cartDecrement"&&s>1&&s--;const m=p(l*s,2);return n.textContent=`৳${m}`,d.textContent=s,d.setAttribute("data-quantity",s),a.price=m,a.quantity=s,S(t),y(),!0}return!1};q();C();P();let b=i(),h=T.filter(r=>b.some(e=>e.id===r.id));const F=document.querySelector("#productCartContainer"),$=document.querySelector("#productCartTemplate"),v=()=>{h.forEach(r=>{const{id:e,name:c,category:u,price:o,stock:n,image:d}=r,t=document.importNode($.content,!0),a=g(e);t.querySelector("#cardValue").setAttribute("id",`card${e}`),t.querySelector(".category").textContent=u,t.querySelector(".productImage").src=d,t.querySelector(".productImage").alt=c,t.querySelector(".productName").textContent=c,t.querySelector(".productPrice").textContent=`৳${a.price}`,t.querySelector(".productQuantity").textContent=a.quantity,t.querySelector(".productQuantity").setAttribute("data-quantity",a.quantity),t.querySelector(".stockElement").addEventListener("click",l=>{L(l,e,n,o)}),t.querySelector(".remove-to-cart-button").addEventListener("click",l=>{x(l,e)}),F.append(t)})};v();y();
